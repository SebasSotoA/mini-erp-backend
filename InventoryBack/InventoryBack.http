@InventoryBack_HostAddress = http://localhost:5262

### ========== CATEGORIAS ==========

### Get all active categorias
GET {{InventoryBack_HostAddress}}/api/categorias?activo=true
Accept: application/json

###

### Get categoria by ID
GET {{InventoryBack_HostAddress}}/api/categorias/{{categoriaId}}
Accept: application/json

###

### Create categoria (with image URL from Supabase)
POST {{InventoryBack_HostAddress}}/api/categorias
Content-Type: application/json

{
  "nombre": "Electrónica",
  "descripcion": "Productos electrónicos y tecnología",
  "imagenCategoriaUrl": "https://your-supabase-project.supabase.co/storage/v1/object/public/categories/electronica.jpg"
}

###

### Create categoria (without image)
POST {{InventoryBack_HostAddress}}/api/categorias
Content-Type: application/json

{
  "nombre": "Alimentos",
  "descripcion": "Productos alimenticios y bebidas"
}

###

### Update categoria
PUT {{InventoryBack_HostAddress}}/api/categorias/{{categoriaId}}
Content-Type: application/json

{
  "nombre": "Electrónica Actualizada",
  "descripcion": "Descripción actualizada",
  "imagenCategoriaUrl": "https://your-supabase-project.supabase.co/storage/v1/object/public/categories/electronica-new.jpg"
}

###

### Activate categoria
PATCH {{InventoryBack_HostAddress}}/api/categorias/{{categoriaId}}/activate

###

### Deactivate categoria (only if no products assigned)
PATCH {{InventoryBack_HostAddress}}/api/categorias/{{categoriaId}}/deactivate

###

### Delete categoria permanently (only if no products)
DELETE {{InventoryBack_HostAddress}}/api/categorias/{{categoriaId}}

###

### ========== BODEGAS ==========

### Get all active bodegas
GET {{InventoryBack_HostAddress}}/api/bodegas?activo=true
Accept: application/json

###

### Get bodega by ID
GET {{InventoryBack_HostAddress}}/api/bodegas/{{bodegaId}}
Accept: application/json

###

### Create bodega
POST {{InventoryBack_HostAddress}}/api/bodegas
Content-Type: application/json

{
  "nombre": "Bodega Principal",
  "direccion": "Calle 123 #45-67, Medellín",
  "descripcion": "Bodega principal para almacenamiento de productos"
}

###

### Update bodega
PUT {{InventoryBack_HostAddress}}/api/bodegas/{{bodegaId}}
Content-Type: application/json

{
  "nombre": "Bodega Principal Actualizada",
  "direccion": "Calle 123 #45-67, Medellín, Antioquia",
  "descripcion": "Bodega principal actualizada"
}

###

### Activate bodega
PATCH {{InventoryBack_HostAddress}}/api/bodegas/{{bodegaId}}/activate

###

### Deactivate bodega (only if no products assigned)
PATCH {{InventoryBack_HostAddress}}/api/bodegas/{{bodegaId}}/deactivate

###

### Delete bodega permanently (only if no products, invoices, or movements)
DELETE {{InventoryBack_HostAddress}}/api/bodegas/{{bodegaId}}

###

### ========== CAMPOS EXTRA ==========

### Get all active campos extra
GET {{InventoryBack_HostAddress}}/api/campos-extra?activo=true
Accept: application/json

###

### Get campo extra by ID
GET {{InventoryBack_HostAddress}}/api/campos-extra/{{campoExtraId}}
Accept: application/json

###

### Create campo extra - Tipo Texto
POST {{InventoryBack_HostAddress}}/api/campos-extra
Content-Type: application/json

{
  "nombre": "Color",
  "tipoDato": "Texto",
  "esRequerido": false,
  "valorPorDefecto": "Rojo",
  "descripcion": "Color del producto"
}

###

### Create campo extra - Tipo Número
POST {{InventoryBack_HostAddress}}/api/campos-extra
Content-Type: application/json

{
  "nombre": "Garantía (meses)",
  "tipoDato": "Número",
  "esRequerido": true,
  "valorPorDefecto": "12",
  "descripcion": "Período de garantía en meses"
}

###

### Create campo extra - Tipo Número Decimal
POST {{InventoryBack_HostAddress}}/api/campos-extra
Content-Type: application/json

{
  "nombre": "Peso (kg)",
  "tipoDato": "Número Decimal",
  "esRequerido": false,
  "valorPorDefecto": "2.5",
  "descripcion": "Peso del producto en kilogramos"
}

###

### Create campo extra - Tipo Fecha
POST {{InventoryBack_HostAddress}}/api/campos-extra
Content-Type: application/json

{
  "nombre": "Fecha de Vencimiento",
  "tipoDato": "Fecha",
  "esRequerido": true,
  "valorPorDefecto": "2024-12-31",
  "descripcion": "Fecha de vencimiento del producto"
}

###

### Create campo extra - Tipo SI/No
POST {{InventoryBack_HostAddress}}/api/campos-extra
Content-Type: application/json

{
  "nombre": "Requiere Refrigeración",
  "tipoDato": "SI/No",
  "esRequerido": true,
  "valorPorDefecto": "NO",
  "descripcion": "Indica si el producto requiere refrigeración"
}

###

### ?? INVALID: Wrong value for SI/No type (should fail)
POST {{InventoryBack_HostAddress}}/api/campos-extra
Content-Type: application/json

{
  "nombre": "Test Campo",
  "tipoDato": "SI/No",
  "esRequerido": false,
  "valorPorDefecto": "maybe",
  "descripcion": "Test"
}

###

### ?? INVALID: Wrong value for Número type (should fail)
POST {{InventoryBack_HostAddress}}/api/campos-extra
Content-Type: application/json

{
  "nombre": "Test Campo",
  "tipoDato": "Número",
  "esRequerido": false,
  "valorPorDefecto": "abc",
  "descripcion": "Test"
}

###

### ?? INVALID: Wrong value for Fecha type (should fail)
POST {{InventoryBack_HostAddress}}/api/campos-extra
Content-Type: application/json

{
  "nombre": "Test Campo",
  "tipoDato": "Fecha",
  "esRequerido": false,
  "valorPorDefecto": "invalid-date",
  "descripcion": "Test"
}

###

### Update campo extra
PUT {{InventoryBack_HostAddress}}/api/campos-extra/{{campoExtraId}}
Content-Type: application/json

{
  "nombre": "Garantía Actualizada",
  "tipoDato": "Número",
  "esRequerido": false,
  "valorPorDefecto": "24",
  "descripcion": "Período de garantía actualizado"
}

###

### ========== PRODUCTS ==========

### Get all products (paginated with filters)
GET {{InventoryBack_HostAddress}}/api/products?page=1&pageSize=20&q=laptop&includeInactive=false
Accept: application/json

###

### Get product by ID
GET {{InventoryBack_HostAddress}}/api/products/{{productId}}
Accept: application/json

###

### Create product - Quick Flow (Minimum fields)
POST {{InventoryBack_HostAddress}}/api/products
Content-Type: application/json

{
  "nombre": "Laptop Dell Inspiron 15",
  "unidadMedida": "Unidad",
  "bodegaPrincipalId": "{{bodegaId}}",
  "precioBase": 1500.00,
  "costoInicial": 1200.00,
  "cantidadInicial": 10,
  "impuestoPorcentaje": 19
}

###

### Create product - Advanced Flow (All fields with Supabase image URL)
POST {{InventoryBack_HostAddress}}/api/products
Content-Type: application/json

{
  "nombre": "Laptop Dell Inspiron 15",
  "unidadMedida": "Unidad",
  "bodegaPrincipalId": "{{bodegaId}}",
  "precioBase": 1500.00,
  "costoInicial": 1200.00,
  "cantidadInicial": 10,
  "impuestoPorcentaje": 19,
  "categoriaId": "{{categoriaId}}",
  "codigoSku": "DELL-INS15-001",
  "descripcion": "Laptop Dell Inspiron 15 con procesador Intel i7, 16GB RAM, 512GB SSD",
  "imagenProductoUrl": "https://your-project.supabase.co/storage/v1/object/public/products/dell-inspiron-15.jpg",
  "bodegasAdicionales": [
    {
      "bodegaId": "{{bodegaId2}}",
      "cantidadInicial": 5,
      "cantidadMinima": 2,
      "cantidadMaxima": 20
    },
    {
      "bodegaId": "{{bodegaId3}}",
      "cantidadInicial": 3,
      "cantidadMinima": 1,
      "cantidadMaxima": 10
    }
  ],
  "camposExtra": [
    {
      "campoExtraId": "{{campoExtraGarantiaId}}",
      "valor": "24 meses"
    },
    {
      "campoExtraId": "{{campoExtraPesoId}}",
      "valor": "2.5 kg"
    }
  ]
}

###

### Create product - With optional empty arrays (valid)
POST {{InventoryBack_HostAddress}}/api/products
Content-Type: application/json

{
  "nombre": "Mouse Logitech",
  "unidadMedida": "Unidad",
  "bodegaPrincipalId": "{{bodegaId}}",
  "precioBase": 50.00,
  "costoInicial": 30.00,
  "cantidadInicial": 100,
  "bodegasAdicionales": [],
  "camposExtra": []
}

###

### ?? INVALID: Duplicate warehouse (should fail)
POST {{InventoryBack_HostAddress}}/api/products
Content-Type: application/json

{
  "nombre": "Test Product",
  "unidadMedida": "Unidad",
  "bodegaPrincipalId": "{{bodegaId}}",
  "precioBase": 100.00,
  "costoInicial": 50.00,
  "cantidadInicial": 10,
  "bodegasAdicionales": [
    {
      "bodegaId": "{{bodegaId}}",
      "cantidadInicial": 5
    }
  ]
}

###

### ?? INVALID: Empty GUID in bodegasAdicionales (should fail)
POST {{InventoryBack_HostAddress}}/api/products
Content-Type: application/json

{
  "nombre": "Test Product",
  "unidadMedida": "Unidad",
  "bodegaPrincipalId": "{{bodegaId}}",
  "precioBase": 100.00,
  "costoInicial": 50.00,
  "cantidadInicial": 10,
  "bodegasAdicionales": [
    {
      "bodegaId": "00000000-0000-0000-0000-000000000000",
      "cantidadInicial": 5
    }
  ]
}

###

### ?? INVALID: Empty GUID in camposExtra (should fail)
POST {{InventoryBack_HostAddress}}/api/products
Content-Type: application/json

{
  "nombre": "Test Product",
  "unidadMedida": "Unidad",
  "bodegaPrincipalId": "{{bodegaId}}",
  "precioBase": 100.00,
  "costoInicial": 50.00,
  "cantidadInicial": 10,
  "camposExtra": [
    {
      "campoExtraId": "00000000-0000-0000-0000-000000000000",
      "valor": "Test"
    }
  ]
}

###

### ?? INVALID: Invalid unit of measure (should fail)
POST {{InventoryBack_HostAddress}}/api/products
Content-Type: application/json

{
  "nombre": "Impresora HP V2",
  "unidadMedida": "otro",
  "bodegaPrincipalId": "{{bodegaId}}",
  "precioBase": 320000,
  "costoInicial": 150000,
  "cantidadInicial": 5
}

###

### Update product
PUT {{InventoryBack_HostAddress}}/api/products/{{productId}}
Content-Type: application/json

{
  "nombre": "Laptop Dell Inspiron 15 Updated",
  "unidadMedida": "Unidad",
  "precioBase": 1600.00,
  "impuestoPorPorcentaje": 19,
  "costoInicial": 1250.00,
  "categoriaId": "{{categoriaId}}",
  "codigoSku": "DELL-INS15-001",
  "descripcion": "Descripción actualizada",
  "activo": true,
  "imagenProductoUrl": null
}

###

### Delete producto permanently (only if not referenced)
DELETE {{InventoryBack_HostAddress}}/api/products/{{productId}}/permanent

###

### ========== PRODUCT WAREHOUSES MANAGEMENT ==========

### Get all warehouses for a product
GET {{InventoryBack_HostAddress}}/api/products/{{productId}}/bodegas
Accept: application/json

###

### Add product to additional warehouse
POST {{InventoryBack_HostAddress}}/api/products/{{productId}}/bodegas
Content-Type: application/json

{
  "bodegaId": "{{bodegaId2}}",
  "cantidadInicial": 15,
  "cantidadMinima": 5,
  "cantidadMaxima": 50
}

###

### Update product quantities in a warehouse
PUT {{InventoryBack_HostAddress}}/api/products/{{productId}}/bodegas/{{bodegaId2}}
Content-Type: application/json

{
  "cantidadInicial": 20,
  "cantidadMinima": 10,
  "cantidadMaxima": 60
}

###

### Remove product from warehouse
DELETE {{InventoryBack_HostAddress}}/api/products/{{productId}}/bodegas/{{bodegaId2}}

###

### ========== PRODUCT EXTRA FIELDS MANAGEMENT ==========

### Get all extra fields for a product
GET {{InventoryBack_HostAddress}}/api/products/{{productId}}/campos-extra
Accept: application/json

###

### Set/Update extra field for product
PUT {{InventoryBack_HostAddress}}/api/products/{{productId}}/campos-extra/{{campoExtraGarantiaId}}
Content-Type: application/json

{
  "valor": "36 meses"
}

###

### Remove extra field from product
DELETE {{InventoryBack_HostAddress}}/api/products/{{productId}}/campos-extra/{{campoExtraGarantiaId}}

###
